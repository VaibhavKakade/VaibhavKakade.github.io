<!DOCTYPE html>
<html>
<head>
	<title>In Hand Amount Calculator</title>
	<style>
		.inline-block {
			display: inline-block;
		}
		.green {
			color: green;
		}
		#calculate {
			width: 200px;
    		height: 50px;
		}
		#ctc {
			height: 25px;
		}
	</style>
</head>
<body>
	<div>
		<div>
			<h3 class="inline-block"> Enter You CTC (LPA) : </h3>
			<input type="text" id="ctc">
		</div>
		<div>
			<h3 class="inline-block">Gender</h3>
			<div class="inline-block">
				<input type="radio" name="gender" value="male" checked="true"> Male
				<input type="radio" name="gender" value="female"> Female
			</div>
		</div>

		<button id="calculate">Calculate</button>
	</div>
	<div>
		<h3 class="inHandCTC"></h3>
	</div>
	<div>
		<i>* Note : This in-hand amount is calculated assuming there are no savings. So the actual in-hand amount will be more after applying your savings (like home loan, investments under 80C etc...).</i>
	</div>
</body>
</html>
<script type="text/javascript">
"use strict";
const onePointFiveLakh = 1.5e5,
	twoLakhs = 2e5,
	fiveLakhs = 5e5,
	tenLakhs = 10e5,
	fiftyLakhs = 50e5;

window.onload = function () {
	var btn = document.querySelector("#calculate");
	btn.addEventListener("click", calculateInHand);
};

function calculateInHand() {
	let annualCTC = document.querySelector("#ctc").value * 1e5;
	let result = [],
		gender = document.querySelector("input[type=radio]:checked").value,
		taxes = [{
			percentage: 0,
			range: [0, (gender=="male" ? onePointFiveLakh : twoLakhs)]
		}, {
			percentage: 10,
			range: [twoLakhs, fiveLakhs]
		}, {
			percentage: 20,
			range: [fiveLakhs, tenLakhs]
		}, {
			percentage: 30,
			range: [tenLakhs, fiftyLakhs]
		}];

	taxes.forEach((taxSlab) => {
		let amount = taxSlab.range[1] - taxSlab.range[0],
			taxToBeDeducted = 0;

		if (!(annualCTC < taxSlab.range[0] && annualCTC < taxSlab.range[1])) {
			if (annualCTC >= taxSlab.range[0] && annualCTC < taxSlab.range[1]) {
				amount = annualCTC - taxSlab.range[0];
			}
			taxToBeDeducted = (amount * (taxSlab.percentage / 100));
			result.push(amount - taxToBeDeducted);
		}
	});

	let inHandMoney = result.reduce((n1, n2) => n1 + n2);
	document.querySelector(".inHandCTC").innerHTML = "In Hand Amount = <span class='green'> " + Math.round(inHandMoney / 12) + " </span> INR";
}

calculateInHand();
</script>
